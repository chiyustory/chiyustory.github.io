#### 聚类定义

​	聚类是基于距离度量的方式将一个数据集分割成不同的簇，使得同一个簇内的样本相似性最大，不同簇之间样本差异性最大。聚类可简单理解为无监督分类，即不使用标签，仅仅依靠样本之间的差异性来获取类别。

​	在视频安防领域，可基于聚类对人脸或人体对每个人建立档案，此档案包含目标的历史时空轨迹信息，用于追踪等目的；在也可对商场场景中的行人进行时空信息分析，用于精准营销等目的。

​	[代码](https://github.com/chiyustory/cluster-algorithm)

#### 聚类算法分类

​	聚类算法种类较多，该分类方式并不规范，仅仅是基于常用的聚类算法，按照其策略的方式对其进行分类。

**基于划分的聚类算法**

利用距离度量将样本划分到与其最近的簇中。

常用算法：Kmeans算法，Kmeans各种优化算法；

**基于层次的聚类算法**

利用树的结构，从深层到浅层，基于距离逐级合并最相近的簇；或者，从浅层到深层，基于距离逐级分裂当前簇为两个簇。

常用算法：AGNES算法，DIANA算法；

**基于密度的聚类算法**

利用图的结构，基于深度优先搜索算法，寻找符合条件的样本将其归为一簇。

常用算法：DBSCAN算法，OPTICS算法；

#### 聚类经典算法

##### Kmeans算法

**算法流程**

- 预先定义参数：聚类数量K，标准差阈值，迭代次数


- 随机选择K个样本为各个簇的质心


- 计算其余样本与各个簇质心之间的欧式距离，将样本归入到距离最近的簇中


- 簇内样本求均值的方式更新各个簇的质心


- 重复2和3步骤，直至达到停止条件（标准差满足阈值或迭代次数满足阈值）

##### AGNES算法

**算法流程**

- 预先定义参数：停止的距离阈值或停止的聚类数量


- 初始化所有样本为单独簇


- 计算所有簇之间的距离


- 合并距离最近的两个簇


- 重复2和3步骤，直至达到停止条件（停止的簇之间距离阈值或合并后的簇数量）


**算法代码**

pass

##### DBSCAN算法

##### 基本概念

邻域：某一个数据点的邻域距离阈值（半径）；

MinPts：某一个数据点邻域距离范围内最少需要的数据点个数；

核心对象：某一个数据点的邻域距离范围内最少包含MinPts个数据点；

边界对象：某一个数据点的邻域距离范围内数据点数量小于MinPts；

噪声对象：不在其他任何数据点的邻域距离范围内；

密度直达：如果xi在xj的邻域范围内，且xj是核心对象，则称xi可由xj密度直达；

密度可达：如果存在数据点序列：xi,xj,xk，xk可有xj密度直达，xj可由xi密度直达，则xk由xi密度可达；

密度相连：如果存在数据点序列：xi,xj,xk，xk可有xj密度直达，xi可由xj密度直达，则xk与xi密度相连；

**算法流程**

- 预先定义参数：邻域，MinPts


- 基于欧式距离（余弦距离）计算各个样本之间的相似度矩阵


- 基于邻域和MinPts计算所有的核心对象


- 遍历核心对象：在核心对象邻域范围内的数据点继续判断其是否是核心对象，如此反复搜索，直至达到边界点（深度优先搜索），则重新开始下一个簇


注：

初始计算的核心对象数目并不一定就是最终的最终的簇数量，因为有可能在其他密度搜索的过程中，初始的核心点会被密度可达。

#### 聚类算法评价方式

聚类算法的评价方式可分为两种，一种是对聚类结果与真实标签标签进行评价，称为“外部指标”，比如BCubed Metric；另一种是对聚类结果直接评价，称为“内部指标”。这两种方式的区别就在于是否有真实标签。

##### BCubed Metric

统计聚类结果的召回率和精度

召回率=该簇被正确分类的正例数量/该样本对应的所有正例数量

精度=该簇被正确分类的正例数量/该簇预测的所有样本数量

##### DB指数

1. 计算各个簇内所有样本的平均距离；
2. 计算各个簇的中心点；
3. 遍历每个簇，计算其与其他簇之间的簇内相似度和簇间相似度的统一后指标；



